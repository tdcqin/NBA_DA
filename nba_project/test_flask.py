#coding=utf-8
from flask import Flask, request
from flask import render_template
import json
from nba_project.nba_crawl import nba_crwa


app = Flask(__name__,static_url_path='/static/',template_folder='templates')

#访问主页面
@app.route('/')
def hello():
    return render_template('home.html')

#信息转发，当用户选定所选球员时将数据转发到 index.html中，后台数据异步加载
@app.route('/chart',methods=['POST','GET'])
def trans_data_to_chart():
    """
    根据用户选择的球员将相应的数据发送到chart
    :return:
    """
    english_name = request.args.get("e_name")
    id = request.args.get("id")
    chinese_name = request.args.get("ch_name")
    english_id = nba_crwa.get_en_player_id(english_name)
    detail_information = nba_crwa.player_detail_information(int(id))

    return render_template('index.html',english_name=english_name,chinese_name=chinese_name,id=id,englishid=english_id,detail_ilnformation=detail_information)

#散点图的数据接口，根据球员id返回投篮生涯数据
@app.route('/get_scatter',methods=['POST','GET'])
def get_scatter():
    if request.method == 'GET':
        id = request.args.get('id')
        english_name = request.args.get('englishname')
        dict_ = nba_crwa.x_y_made_request(int(id), english_name)
        print(dict_)
        a = json.dumps(dict_)
        return a

#用户输入姓名，模糊查询返回球员list，包含英文名，中文名
@app.route('/get_name',methods=['POST','GET'])
def get_name():
    """
      首页用户输入姓名返回模糊查询结果
    :return:
    """
    if request.method == 'POST':
        result = request.form
        name = result['name']
        print(name)
        player_list = nba_crwa.name_id_search(name)
        # player_list = {'勒布朗-詹姆斯': ['LeBron James', '1862'], '詹姆斯-哈登': ['James Harden', '1628'], '詹姆斯-沃西': ['James Worthy', '3739'], '詹姆斯-琼斯': ['James Jones', '1744'], '詹姆斯-约翰逊': ['James Johnson', '1797'], '詹姆斯-恩尼斯': ['James Ennis', '4297'], '詹姆斯-波西': ['James Posey', '2766'], '詹姆斯-迈克尔-麦卡杜': ['James Michael McAdoo', '4350'], '迈克-詹姆斯': ['Mike James', '1861'], '詹姆斯-杨': ['James Young', '4313'], '詹姆斯-安德森': ['James Anderson', '61'], '詹姆斯-爱德华兹': ['James Edwards', '1036'], '杰罗姆-詹姆斯': ['Jerome James', '1863'], '詹姆斯-唐纳森': ['James Donaldson', '832'], '詹姆斯-怀特': ['James White', '3906'], '麦克-詹姆斯': ['Mike James', '4583'], '达迈-詹姆斯': ['Damion James', '1866'], '詹姆斯-塞拉斯': ['James Silas', '3358'], '詹姆斯昂-库里': ['JamesOn Curry', '528'], '詹姆斯-纳纳利': ['James Nunnally', '4224'], '伯纳德-詹姆斯': ['Bernard James', '4081'], '詹姆斯-辛格尔顿': ['James Singleton', '3335'], '詹姆斯-奥古斯丁': ['James Augustine', '10'], '詹姆斯-罗宾逊': ['James Robinson', '2997'], '詹姆斯-朗': ['James Lang', '2186'], '蒂姆-詹姆斯': ['Tim James', '1860'], '詹姆斯-贝莉': ['James Bailey', '515'], '詹姆斯-托马斯': ['James Thomas', '3612'], '詹姆斯-科林斯': ['James Collins', '633'], '亨利-詹姆斯': ['Henry James', '1864'], '詹姆斯-韦伯': ['James Webb III', '4630'], '詹姆斯-哈迪': ['James Hardy', '1623'], '詹姆斯-柯顿': ['James Cotton', '581'], '阿隆-詹姆斯': ['Aaron James', '1868'], '詹姆斯-斯科特': ['James Scott', '3428'], '詹姆斯-威尔克斯': ['James Wilkes', '3876'], '詹姆斯-萨瑟兰': ['James Southerland', '4214'], '詹姆斯-布莱克威尔': ['James Blackwell', '368'], '杰纳-詹姆斯': ['Gene James', '1865']}


        return render_template("player_sort_list.html", player_list_result = player_list)

#根据球员中文id返回球员生涯薪资情况
@app.route('/player_salary',methods=['POST','GET'])
def getsalary():
    if request.method == 'GET':
         #根据所选id将薪资情况进行返回
         id = request.args.get("id")
         print(id)
         dict_2 = nba_crwa.salary_request(int(id))
         a = json.dumps(dict_2)
         return a

#根据球员中文id返回，生涯所有场次数据
@app.route('/all_data',methods=['POST','GET'])
def getCarrerData():
    """
    职业生涯数据
    :return:
    """
    if request.method == 'GET':
        #根据id查询球员的生涯数据
        id = request.args.get("id")

        print(id)
        dict_ = nba_crwa.player_all_request(int(id))
        # dict_ = {'ids': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99', '100', '101', '102', '103', '104', '105', '106', '107', '108', '109', '110', '111', '112', '113', '114', '115', '116', '117', '118', '119', '120', '121', '122', '123', '124', '125', '126', '127', '128', '129', '130', '131', '132', '133', '134', '135', '136', '137', '138', '139', '140', '141', '142', '143', '144', '145', '146', '147', '148', '149', '150', '151', '152', '153', '154', '155', '156', '157', '158', '159', '160', '161', '162', '163', '164', '165', '166', '167', '168', '169', '170', '171', '172', '173', '174', '175', '176', '177', '178', '179', '180', '181', '182', '183', '184', '185', '186', '187', '188', '189', '190', '191', '192', '193', '194', '195', '196', '197', '198', '199', '200', '201', '202', '203', '204', '205', '206', '207', '208', '209', '210', '211', '212', '213', '214', '215', '216', '217', '218', '219', '220', '221', '222', '223', '224', '225', '226', '227', '228', '229', '230', '231', '232', '233', '234', '235', '236', '237', '238', '239', '240', '241', '242', '243', '244', '245', '246', '247', '248', '249', '250', '251', '252', '253', '254', '255', '256', '257', '258', '259', '260', '261', '262', '263', '264', '265', '266', '267', '268', '269', '270', '271', '272', '273', '274', '275', '276', '277', '278', '279', '280', '281', '282', '283', '284', '285', '286', '287', '288', '289', '290', '291', '292', '293', '294', '295', '296', '297', '298', '299', '300', '301', '302', '303', '304', '305', '306', '307', '308', '309', '310', '311', '312', '313', '314', '315', '316', '317', '318', '319', '320', '321', '322', '323', '324', '325', '326', '327', '328', '329', '330', '331', '332', '333', '334', '335', '336', '337', '338', '339', '340', '341', '342', '343', '344', '345', '346', '347', '348', '349', '350', '351', '352', '353', '354', '355', '356', '357', '358', '359', '360', '361', '362', '363', '364', '365', '366', '367', '368', '369', '370', '371', '372', '373', '374', '375', '376', '377', '378', '379', '380', '381', '382', '383', '384', '385', '386', '387', '388', '389', '390', '391', '392', '393', '394', '395', '396', '397', '398', '399', '400', '401', '402', '403', '404', '405', '406', '407', '408', '409', '410', '411', '412', '413', '414', '415', '416', '417', '418', '419', '420', '421', '422', '423', '424', '425', '426', '427', '428', '429', '430', '431', '432', '433', '434', '435', '436', '437', '438', '439', '440', '441', '442', '443', '444', '445', '446', '447', '448', '449', '450', '451', '452', '453', '454', '455', '456', '457', '458', '459', '460', '461', '462', '463', '464', '465', '466', '467', '468', '469', '470', '471', '472', '473', '474', '475', '476', '477', '478', '479', '480', '481', '482', '483', '484', '485', '486', '487', '488', '489', '490', '491', '492', '493', '494', '495', '496', '497', '498', '499', '500', '501', '502', '503', '504', '505', '506', '507', '508', '509', '510', '511', '512', '513', '514', '515', '516', '517', '518', '519', '520', '521', '522', '523', '524', '525', '526', '527', '528', '529', '530', '531', '532', '533', '534', '535', '536', '537', '538', '539', '540', '541', '542', '543', '544', '545', '546', '547', '548', '549', '550', '551', '552', '553', '554', '555', '556', '557', '558', '559', '560', '561', '562', '563', '564', '565', '566', '567', '568', '569', '570', '571', '572', '573', '574', '575', '576', '577', '578', '579', '580', '581', '582', '583', '584', '585', '586', '587', '588', '589', '590', '591', '592', '593', '594', '595', '596', '597', '598', '599', '600', '601', '602', '603', '604', '605', '606', '607', '608', '609', '610', '611', '612', '613', '614', '615', '616', '617', '618', '619', '620', '621', '622', '623', '624', '625', '626', '627', '628', '629', '630', '631', '632', '633', '634', '635', '636', '637', '638', '639', '640', '641', '642', '643', '644', '645', '646', '647', '648', '649', '650', '651', '652', '653', '654', '655', '656', '657', '658', '659', '660', '661', '662', '663', '664', '665', '666', '667', '668', '669', '670', '671', '672', '673', '674', '675', '676', '677', '678', '679', '680', '681', '682', '683', '684', '685', '686', '687', '688', '689', '690', '691', '692', '693', '694', '695', '696', '697', '698', '699', '700', '701', '702', '703', '704', '705', '706', '707', '708', '709', '710', '711', '712', '713', '714', '715', '716', '717', '718', '719', '720', '721', '722', '723', '724', '725', '726', '727', '728', '729', '730', '731', '732', '733', '734', '735', '736', '737', '738', '739', '740', '741', '742', '743', '744', '745', '746', '747', '748', '749', '750', '751', '752', '753', '754', '755', '756', '757', '758', '759', '760', '761', '762', '763', '764', '765', '766', '767', '768', '769', '770', '771', '772', '773', '774', '775', '776', '777', '778', '779', '780', '781', '782', '783', '784', '785', '786', '787', '788', '789', '790', '791', '792', '793', '794', '795', '796', '797', '798', '799', '800', '801', '802', '803', '804', '805', '806', '807', '808', '809', '810', '811', '812', '813', '814', '815', '816', '817', '818', '819', '820', '821', '822', '823', '824', '825', '826', '827', '828', '829', '830', '831', '832', '833', '834', '835', '836', '837', '838', '839', '840', '841', '842', '843', '844', '845', '846', '847', '848', '849', '850', '851', '852', '853', '854', '855', '856', '857', '858', '859', '860', '861', '862', '863', '864', '865', '866', '867', '868', '869', '870', '871', '872', '873', '874', '875', '876', '877', '878', '879', '880', '881', '882', '883', '884', '885', '886', '887', '888', '889', '890', '891', '892', '893', '894', '895', '896', '897', '898', '899', '900', '901', '902', '903', '904', '905', '906', '907', '908', '909', '910', '911', '912', '913', '914', '915', '916', '917', '918', '919', '920', '921', '922', '923', '924', '925', '926', '927', '928', '929', '930', '931', '932', '933', '934', '935', '936', '937', '938', '939', '940', '941', '942', '943', '944', '945', '946', '947', '948', '949', '950', '951', '952', '953', '954', '955', '956', '957', '958', '959', '960', '961', '962', '963', '964', '965', '966', '967', '968', '969', '970', '971', '972', '973', '974', '975', '976', '977', '978', '979', '980', '981', '982', '983', '984', '985', '986', '987', '988', '989', '990', '991', '992', '993', '994', '995', '996', '997', '998', '999', '1000', '1001', '1002', '1003', '1004', '1005', '1006', '1007', '1008', '1009', '1010', '1011', '1012', '1013', '1014', '1015', '1016', '1017', '1018', '1019', '1020', '1021', '1022', '1023', '1024', '1025', '1026', '1027', '1028', '1029', '1030', '1031', '1032', '1033', '1034', '1035', '1036', '1037', '1038', '1039', '1040', '1041', '1042', '1043', '1044', '1045', '1046', '1047', '1048', '1049', '1050', '1051', '1052', '1053', '1054', '1055', '1056', '1057', '1058', '1059', '1060', '1061', '1062', '1063', '1064', '1065', '1066', '1067', '1068', '1069', '1070', '1071', '1072', '1073', '1074', '1075', '1076', '1077', '1078', '1079', '1080', '1081', '1082', '1083', '1084', '1085', '1086', '1087', '1088', '1089', '1090', '1091', '1092', '1093', '1094', '1095', '1096', '1097', '1098', '1099', '1100', '1101', '1102', '1103', '1104', '1105', '1106', '1107', '1108', '1109', '1110', '1111', '1112', '1113', '1114', '1115', '1116', '1117', '1118', '1119', '1120', '1121', '1122', '1123', '1124', '1125', '1126', '1127', '1128', '1129', '1130', '1131', '1132', '1133', '1134', '1135', '1136', '1137', '1138', '1139', '1140', '1141', '1142', '1143', '1144', '1145', '1146', '1147', '1148', '1149', '1150', '1151', '1152', '1153', '1154', '1155', '1156', '1157', '1158', '1159', '1160', '1161', '1162', '1163', '1164', '1165', '1166', '1167', '1168', '1169', '1170', '1171', '1172', '1173', '1174', '1175', '1176', '1177', '1178', '1179', '1180', '1181', '1182', '1183', '1184', '1185', '1186', '1187', '1188', '1189', '1190', '1191', '1192', '1193', '1194', '1195', '1196', '1197', '1198'], 'boards': ['3', '7', '11', '9', '6', '4', '10', '10', '7', '8', '9', '7', '6', '12', '7', '12', '11', '10', '12', '7', '14', '13', '14', '12', '13', '6', '12', '5', '9', '8', '8', '5', '6', '5', '9', '7', '4', '10', '14', '8', '4', '10', '7', '7', '11', '2', '5', '5', '10', '11', '11', '7', '8', '5', '12', '5', '6', '11', '9', '10', '13', '9', '10', '6', '10', '6', '7', '12', '13', '14', '12', '10', '10', '8', '7', '10', '9', '12', '13', '14', '9', '8', '8', '12', '10', '10', '9', '11', '6', '8', '10', '9', '3', '5', '8', '8', '3', '8', '10', '7', '6', '8', '10', '6', '6', '1', '11', '11', '12', '7', '13', '10', '11', '7', '2', '6', '12', '14', '16', '6', '2', '14', '6', '9', '11', '4', '8', '5', '11', '6', '10', '3', '10', '2', '4', '5', '16', '16', '8', '10', '11', '14', '9', '10', '8', '11', '9', '6', '6', '10', '11', '7', '12', '14', '17', '13', '13', '10', '13', '5', '8', '5', '5', '6', '7', '5', '8', '9', '14', '5', '13', '10', '6', '9', '8', '2', '11', '6', '8', '9', '8', '7', '6', '8', '13', '4', '9', '12', '7', '6', '9', '8', '6', '8', '5', '5', '4', '10', '5', '10', '3', '9', '8', '10', '9', '8', '7', '13', '6', '8', '11', '6', '7', '5', '8', '16', '4', '11', '6', '6', '11', '3', '7', '12', '6', '5', '11', '9', '11', '13', '5', '8', '7', '8', '7', '9', '7', '10', '3', '7', '6', '12', '5', '9', '3', '4', '13', '5', '1', '5', '7', '7', '10', '7', '12', '10', '2', '5', '6', '4', '4', '9', '9', '5', '9', '7', '3', '10', '7', '13', '9', '13', '6', '6', '11', '9', '6', '12', '3', '7', '6', '4', '5', '9', '5', '7', '10', '10', '3', '9', '10', '8', '11', '5', '8', '10', '7', '3', '2', '8', '5', '7', '6', '6', '6', '3', '8', '11', '7', '7', '5', '5', '9', '10', '6', '3', '3', '6', '3', '6', '7', '6', '7', '5', '11', '4', '7', '10', '5', '4', '4', '1', '4', '3', '7', '5', '2', '4', '7', '5', '5', '2', '10', '4', '1', '4', '6', '9', '6', '4', '11', '7', '3', '7', '8', '5', '8', '6', '6', '10', '5', '8', '4', '7', '7', '10', '8', '6', '8', '6', '6', '5', '6', '5', '7', '9', '8', '1', '7', '9', '4', '7', '9', '13', '9', '7', '8', '8', '8', '3', '7', '13', '8', '4', '8', '8', '8', '7', '5', '3', '4', '8', '5', '6', '8', '8', '8', '6', '9', '9', '9', '14', '7', '14', '5', '5', '5', '6', '8', '5', '9', '6', '6', '4', '6', '3', '8', '5', '8', '3', '7', '4', '6', '7', '6', '7', '4', '4', '7', '9', '8', '8', '12', '7', '12', '10', '7', '7', '6', '10', '3', '10', '11', '8', '8', '3', '10', '12', '6', '12', '6', '7', '5', '6', '8', '8', '6', '9', '16', '7', '10', '7', '7', '4', '5', '10', '10', '2', '6', '12', '8', '6', '6', '12', '8', '9', '9', '6', '10', '3', '7', '5', '10', '13', '9', '9', '6', '10', '7', '7', '5', '10', '10', '11', '12', '11', '9', '7', '10', '8', '11', '5', '6', '10', '9', '6', '7', '4', '6', '7', '6', '4', '4', '9', '9', '3', '6', '8', '12', '7', '5', '11', '8', '11', '9', '13', '10', '11', '9', '4', '11', '5', '9', '8', '13', '2', '6', '5', '9', '12', '8', '11', '11', '8', '6', '5', '13', '9', '8', '5', '5', '13', '11', '7', '8', '7', '9', '8', '6', '6', '10', '10', '5', '7', '2', '11', '6', '8', '10', '10', '10', '8', '6', '2', '8', '6', '5', '8', '11', '8', '8', '6', '7', '9', '10', '8', '13', '6', '7', '8', '13', '6', '8', '11', '4', '4', '8', '11', '11', '10', '8', '13', '10', '6', '9', '7', '6', '10', '11', '6', '10', '7', '11', '13', '4', '10', '7', '7', '6', '7', '5', '6', '6', '8', '8', '6', '5', '3', '2', '8', '2', '10', '11', '3', '7', '0', '7', '6', '6', '4', '6', '7', '13', '9', '7', '5', '6', '3', '11', '9', '12', '8', '6', '13', '7', '7', '6', '7', '5', '9', '3', '13', '8', '3', '8', '7', '6', '3', '9', '6', '9', '9', '5', '9', '4', '9', '8', '10', '6', '7', '7', '9', '10', '8', '5', '4', '16', '6', '3', '10', '6', '6', '7', '7', '6', '13', '5', '6', '8', '5', '6', '8', '7', '9', '2', '5', '6', '4', '8', '8', '7', '8', '7', '9', '11', '4', '5', '4', '2', '6', '7', '9', '9', '12', '6', '12', '8', '11', '7', '11', '12', '8', '4', '10', '13', '10', '6', '8', '8', '6', '14', '1', '5', '5', '5', '9', '6', '7', '8', '9', '7', '4', '7', '8', '15', '14', '9', '7', '9', '14', '14', '11', '7', '4', '6', '10', '2', '6', '5', '9', '4', '10', '6', '6', '7', '4', '5', '5', '8', '5', '7', '7', '3', '4', '7', '6', '8', '5', '8', '5', '13', '9', '9', '8', '7', '9', '7', '4', '11', '6', '7', '7', '5', '4', '9', '4', '3', '11', '12', '7', '9', '7', '7', '11', '10', '11', '3', '8', '6', '8', '8', '4', '7', '15', '14', '13', '6', '7', '5', '11', '7', '9', '11', '14', '9', '7', '8', '3', '9', '8', '19', '10', '8', '11', '8', '5', '5', '8', '6', '5', '10', '8', '8', '6', '6', '3', '1', '4', '11', '12', '8', '7', '10', '13', '1', '5', '4', '15', '13', '5', '7', '5', '5', '5', '5', '8', '5', '6', '9', '12', '5', '6', '7', '3', '3', '6', '6', '17', '6', '7', '8', '7', '12', '5', '3', '5', '3', '7', '4', '4', '10', '8', '7', '7', '5', '10', '6', '9', '10', '4', '7', '10', '6', '7', '6', '6', '4', '13', '5', '6', '5', '9', '4', '9', '7', '10', '1', '5', '9', '8', '7', '7', '6', '5', '7', '7', '4', '7', '10', '1', '5', '9', '7', '4', '8', '4', '7', '9', '10', '10', '5', '3', '4', '5', '2', '4', '12', '12', '5', '6', '7', '11', '8', '9', '12', '7', '7', '6', '12', '9', '11', '7', '4', '9', '7', '6', '2', '12', '3', '5', '9', '11', '9', '4', '5', '11', '6', '11', '7', '9', '7', '5', '9', '11', '13', '7', '2', '7', '7', '9', '11', '7', '10', '8', '8', '5', '6', '5', '4', '10', '7', '6', '6', '5', '3', '7', '5', '10', '5', '11', '6', '10', '5', '6', '5', '3', '2', '6', '3', '14', '8', '11', '6', '18', '7', '10', '13', '4', '9', '10', '8', '6', '7', '6', '4', '4', '6', '10', '8', '7', '9', '5', '7', '4', '7', '5', '8', '4', '7', '6', '7', '5', '8', '6', '8', '6', '2', '5', '9', '10', '12', '8', '11', '5', '8', '13', '8', '3', '6', '8', '3', '9', '9', '9', '6', '5', '9', '11', '5', '6', '2', '2', '6', '8', '3', '7', '7', '6', '6', '9', '8', '6', '12', '9', '10', '10', '8', '6', '5', '1', '7', '3', '7', '3', '6', '8', '7', '5', '2', '6', '3', '2', '7', '0', '5', '3', '3', '6', '7', '6', '7', '3', '11', '7', '4', '5', '11', '4', '2', '6', '0', '9', '4', '4', '6', '8', '5', '5', '7', '6', '9', '5', '3', '2', '4', '4', '10', '10', '3', '2', '6', '6', '4', '1', '4', '3', '3', '5', '6', '6', '6', '16', '2', '8', '6', '9', '7', '7', '5', '5', '3', '5', '8', '5', '11', '4', '12', '6'], 'assists': ['9', '14', '11', '14', '8', '6', '4', '12', '7', '6', '16', '10', '10', '11', '12', '6', '16', '9', '12', '9', '9', '5', '7', '14', '8', '3', '11', '4', '12', '9', '11', '6', '8', '4', '7', '2', '7', '7', '7', '3', '7', '9', '4', '2', '9', '6', '7', '6', '8', '4', '11', '10', '14', '5', '6', '2', '11', '11', '14', '6', '12', '11', '8', '7', '8', '9', '17', '10', '12', '6', '11', '7', '6', '10', '7', '15', '8', '11', '9', '11', '8', '8', '10', '19', '15', '5', '9', '5', '7', '14', '11', '7', '7', '6', '6', '11', '1', '5', '9', '6', '8', '6', '14', '6', '9', '7', '15', '10', '12', '17', '13', '8', '9', '6', '12', '12', '6', '6', '13', '5', '8', '6', '8', '12', '4', '7', '9', '13', '7', '11', '7', '8', '13', '13', '2', '8', '9', '10', '7', '6', '11', '11', '6', '8', '8', '8', '11', '5', '7', '6', '12', '5', '12', '10', '6', '8', '10', '6', '15', '4', '14', '12', '7', '9', '17', '10', '12', '9', '8', '11', '11', '12', '7', '15', '2', '15', '4', '5', '4', '6', '7', '6', '9', '11', '4', '6', '6', '7', '9', '8', '10', '8', '7', '7', '13', '5', '4', '13', '11', '13', '3', '15', '8', '5', '5', '14', '12', '8', '9', '7', '14', '6', '3', '9', '12', '9', '11', '11', '5', '8', '11', '3', '8', '3', '5', '7', '6', '5', '8', '8', '4', '7', '7', '5', '11', '9', '11', '10', '8', '4', '6', '6', '7', '8', '9', '9', '9', '12', '5', '5', '7', '5', '7', '9', '8', '4', '7', '3', '2', '7', '5', '2', '5', '4', '11', '3', '8', '3', '8', '4', '5', '5', '8', '13', '8', '6', '3', '5', '6', '8', '4', '13', '3', '11', '4', '5', '5', '11', '7', '8', '12', '7', '6', '9', '5', '6', '5', '7', '4', '13', '7', '8', '8', '8', '14', '5', '4', '5', '11', '7', '6', '4', '7', '8', '5', '9', '11', '5', '7', '7', '5', '9', '9', '4', '7', '5', '5', '7', '8', '8', '3', '11', '9', '2', '14', '5', '4', '7', '13', '12', '10', '7', '8', '11', '10', '4', '9', '5', '7', '7', '9', '11', '4', '7', '5', '4', '5', '1', '5', '6', '6', '5', '8', '8', '2', '12', '5', '5', '9', '7', '4', '6', '6', '7', '8', '8', '7', '6', '4', '7', '4', '3', '6', '9', '3', '5', '12', '11', '7', '3', '6', '6', '4', '6', '6', '10', '7', '5', '6', '5', '5', '8', '5', '10', '8', '4', '6', '8', '7', '9', '9', '6', '9', '8', '2', '6', '4', '3', '8', '4', '7', '7', '5', '7', '4', '2', '10', '6', '8', '5', '6', '13', '8', '6', '9', '7', '5', '6', '3', '11', '10', '8', '10', '12', '8', '7', '8', '7', '7', '5', '2', '4', '7', '10', '16', '8', '11', '7', '11', '7', '9', '4', '6', '5', '8', '7', '3', '7', '7', '7', '11', '8', '10', '6', '7', '9', '4', '7', '2', '9', '11', '7', '5', '8', '9', '7', '5', '11', '5', '5', '6', '7', '9', '11', '6', '7', '5', '8', '3', '12', '7', '6', '6', '9', '8', '1', '11', '5', '3', '5', '6', '4', '7', '3', '5', '5', '7', '2', '6', '10', '4', '0', '9', '5', '2', '7', '10', '6', '7', '8', '4', '8', '4', '2', '6', '7', '6', '6', '8', '8', '8', '5', '7', '3', '6', '9', '10', '6', '2', '8', '5', '8', '5', '7', '7', '5', '5', '5', '8', '10', '6', '7', '7', '9', '13', '6', '5', '10', '7', '5', '6', '7', '7', '9', '8', '7', '10', '8', '12', '7', '2', '7', '2', '3', '3', '8', '5', '9', '8', '6', '7', '4', '5', '7', '5', '3', '8', '5', '7', '10', '8', '4', '9', '8', '8', '13', '9', '5', '6', '7', '6', '6', '5', '9', '5', '10', '9', '8', '10', '4', '7', '6', '10', '5', '7', '3', '9', '9', '6', '4', '8', '3', '5', '4', '6', '4', '6', '11', '5', '9', '11', '9', '14', '9', '10', '12', '7', '7', '7', '3', '13', '9', '6', '7', '8', '10', '9', '7', '7', '9', '12', '7', '10', '6', '14', '7', '9', '9', '13', '6', '9', '15', '13', '11', '8', '8', '15', '11', '13', '11', '4', '12', '9', '11', '4', '6', '11', '8', '7', '8', '6', '7', '6', '10', '6', '9', '10', '4', '6', '8', '7', '7', '6', '7', '7', '6', '10', '11', '10', '12', '4', '7', '9', '7', '9', '12', '9', '7', '4', '9', '6', '6', '9', '6', '12', '8', '5', '7', '10', '7', '6', '5', '6', '3', '12', '7', '11', '8', '5', '10', '8', '10', '9', '13', '11', '12', '5', '4', '4', '11', '4', '0', '8', '9', '9', '9', '6', '4', '12', '11', '4', '8', '6', '8', '11', '9', '8', '14', '4', '7', '7', '10', '6', '4', '10', '11', '7', '9', '6', '5', '7', '8', '3', '9', '7', '5', '4', '4', '11', '6', '5', '8', '3', '1', '8', '6', '4', '7', '11', '6', '4', '8', '6', '3', '13', '9', '6', '5', '7', '2', '8', '9', '4', '5', '9', '5', '8', '4', '5', '6', '6', '10', '7', '7', '11', '4', '1', '10', '6', '13', '4', '6', '11', '8', '12', '11', '9', '10', '3', '7', '6', '12', '7', '4', '4', '5', '8', '5', '7', '9', '8', '6', '3', '8', '10', '6', '6', '7', '12', '8', '5', '6', '5', '6', '8', '5', '3', '13', '10', '12', '5', '7', '9', '14', '4', '8', '4', '13', '9', '8', '7', '4', '9', '6', '6', '4', '6', '5', '5', '6', '9', '7', '6', '8', '10', '4', '6', '9', '4', '6', '9', '8', '8', '6', '5', '8', '7', '2', '2', '3', '4', '5', '6', '3', '6', '3', '9', '5', '5', '5', '5', '10', '2', '8', '6', '6', '7', '4', '9', '4', '5', '3', '5', '3', '1', '5', '8', '5', '7', '7', '6', '6', '10', '4', '8', '6', '11', '5', '8', '9', '4', '6', '7', '6', '5', '12', '6', '7', '4', '5', '4', '1', '6', '7', '7', '7', '8', '9', '4', '5', '8', '12', '7', '5', '5', '4', '2', '6', '8', '7', '8', '12', '6', '7', '9', '5', '9', '11', '5', '6', '8', '8', '12', '6', '7', '10', '6', '7', '9', '6', '8', '8', '6', '9', '7', '8', '9', '7', '6', '5', '11', '7', '8', '6', '9', '6', '4', '10', '9', '6', '7', '3', '6', '6', '8', '9', '2', '4', '4', '10', '4', '4', '3', '2', '1', '6', '6', '4', '4', '14', '6', '6', '6', '7', '6', '10', '7', '3', '4', '7', '9', '7', '5', '3', '6', '8', '6', '5', '8', '6', '2', '5', '8', '5', '7', '5', '7', '7', '5', '11', '8', '6', '9', '6', '11', '9', '10', '7', '15', '8', '10', '6', '10', '11', '5', '9', '9', '4', '9', '6', '5', '7', '14', '9', '12', '4', '7', '7', '8', '10', '6', '8', '10', '9', '6', '5', '7', '8', '5', '10', '2', '9', '4', '4', '6', '4', '6', '8', '8', '5', '9', '11', '8', '5', '4', '10', '7', '6', '4', '13', '7', '6', '3', '7', '8', '4', '4', '7', '10', '4', '3', '3', '3', '5', '6', '3', '2', '9', '5', '3', '6', '5', '4', '6', '4', '3', '4', '3', '2', '6', '9', '7', '6', '5', '10', '9', '4', '9', '4', '6', '2', '10', '5', '3', '6', '4', '9', '3', '5', '8', '5', '7', '7', '9', '4', '2', '8', '8', '8', '3', '7', '4', '9', '3', '7', '6', '8', '9'], 'scores': ['27', '23', '29', '25', '33', '29', '36', '30', '31', '27', '27', '31', '33', '24', '27', '29', '28', '18', '28', '18', '24', '17', '22', '22', '36', '13', '24', '29', '28', '20', '35', '42', '22', '28', '38', '14', '24', '22', '32', '51', '22', '44', '26', '25', '24', '18', '28', '29', '29', '35', '28', '19', '32', '24', '26', '10', '26', '44', '33', '27', '16', '27', '41', '18', '37', '27', '35', '40', '33', '35', '28', '24', '25', '39', '31', '25', '30', '31', '33', '18', '32', '37', '24', '22', '37', '25', '11', '24', '21', '25', '26', '28', '18', '16', '32', '27', '26', '10', '33', '19', '24', '29', '16', '20', '34', '39', '20', '29', '25', '25', '30', '29', '32', '23', '34', '24', '21', '30', '27', '33', '18', '39', '31', '23', '19', '33', '30', '26', '57', '33', '16', '18', '29', '34', '22', '24', '29', '32', '27', '36', '18', '41', '34', '26', '17', '24', '32', '18', '34', '33', '16', '30', '24', '29', '30', '38', '28', '24', '18', '31', '25', '27', '18', '25', '32', '32', '27', '23', '25', '31', '24', '26', '29', '21', '20', '16', '20', '29', '28', '36', '31', '26', '32', '23', '31', '19', '29', '34', '26', '23', '44', '27', '25', '34', '27', '16', '22', '26', '19', '31', '21', '28', '19', '27', '23', '25', '30', '19', '23', '21', '19', '34', '33', '17', '31', '29', '24', '27', '30', '26', '33', '26', '18', '23', '27', '24', '25', '28', '28', '19', '33', '25', '23', '12', '25', '25', '29', '21', '27', '30', '23', '24', '29', '20', '21', '25', '26', '22', '17', '16', '19', '22', '27', '37', '13', '34', '20', '29', '34', '14', '12', '25', '24', '23', '33', '24', '25', '33', '37', '24', '26', '25', '24', '15', '19', '27', '30', '37', '31', '31', '29', '31', '23', '22', '29', '12', '25', '21', '14', '21', '20', '23', '20', '24', '20', '28', '29', '16', '26', '21', '31', '27', '17', '18', '29', '27', '37', '42', '19', '18', '28', '31', '18', '22', '25', '23', '18', '36', '19', '32', '34', '25', '26', '26', '32', '36', '33', '17', '29', '30', '24', '25', '22', '21', '27', '41', '35', '18', '24', '19', '26', '19', '29', '29', '15', '22', '15', '22', '32', '41', '32', '22', '31', '11', '36', '17', '27', '36', '37', '29', '38', '34', '17', '32', '13', '17', '38', '32', '25', '15', '43', '24', '21', '19', '23', '17', '19', '22', '61', '20', '31', '33', '42', '36', '37', '13', '31', '24', '30', '34', '18', '27', '29', '30', '34', '21', '25', '36', '32', '32', '30', '15', '26', '26', '33', '19', '38', '18', '24', '30', '25', '17', '24', '21', '21', '23', '26', '27', '28', '35', '22', '21', '13', '30', '39', '33', '25', '18', '35', '25', '26', '25', '17', '24', '20', '28', '27', '36', '32', '24', '32', '29', '25', '37', '22', '28', '27', '15', '13', '25', '26', '20', '29', '18', '40', '28', '16', '26', '24', '39', '30', '32', '30', '32', '31', '30', '28', '24', '34', '23', '31', '39', '25', '32', '20', '15', '22', '24', '30', '32', '36', '26', '35', '27', '29', '30', '24', '22', '23', '31', '27', '24', '31', '26', '21', '23', '30', '28', '21', '27', '30', '38', '20', '21', '20', '23', '20', '23', '26', '32', '27', '28', '37', '29', '19', '30', '36', '26', '21', '34', '41', '23', '26', '19', '24', '17', '17', '20', '14', '29', '35', '19', '27', '31', '21', '25', '35', '38', '20', '18', '25', '28', '23', '35', '23', '18', '17', '24', '30', '19', '40', '22', '35', '31', '32', '18', '28', '28', '31', '33', '35', '23', '26', '32', '33', '28', '16', '34', '35', '26', '37', '34', '27', '23', '29', '31', '27', '35', '27', '33', '32', '19', '33', '43', '19', '21', '27', '19', '31', '26', '26', '29', '27', '25', '29', '31', '23', '27', '22', '16', '41', '12', '19', '51', '24', '23', '39', '24', '38', '34', '27', '44', '26', '25', '38', '25', '20', '18', '27', '36', '19', '32', '32', '21', '20', '25', '25', '33', '17', '22', '38', '18', '30', '23', '20', '25', '25', '29', '32', '20', '23', '35', '20', '23', '20', '20', '20', '15', '16', '31', '19', '42', '27', '23', '34', '27', '38', '15', '29', '32', '29', '30', '23', '40', '26', '22', '36', '36', '20', '33', '22', '43', '32', '32', '47', '36', '22', '32', '22', '12', '32', '37', '37', '28', '32', '36', '37', '41', '35', '23', '29', '28', '48', '14', '29', '26', '34', '29', '25', '26', '36', '23', '44', '33', '27', '43', '14', '23', '12', '25', '25', '34', '32', '40', '34', '31', '21', '34', '36', '33', '25', '27', '14', '24', '23', '38', '37', '29', '27', '21', '38', '26', '31', '25', '24', '25', '22', '30', '22', '26', '43', '19', '51', '34', '32', '14', '21', '23', '42', '26', '30', '21', '15', '20', '55', '20', '26', '47', '16', '52', '33', '33', '25', '23', '23', '33', '32', '34', '23', '29', '28', '30', '38', '21', '30', '16', '38', '33', '18', '27', '31', '33', '32', '33', '28', '29', '31', '25', '11', '21', '32', '23', '14', '26', '24', '25', '31', '38', '22', '41', '41', '27', '41', '29', '15', '22', '22', '27', '13', '34', '33', '17', '33', '29', '26', '13', '21', '29', '29', '30', '30', '33', '25', '42', '24', '38', '39', '50', '37', '30', '26', '35', '25', '33', '31', '26', '39', '29', '30', '26', '32', '33', '28', '37', '41', '36', '23', '28', '27', '51', '31', '31', '22', '39', '24', '36', '21', '24', '25', '25', '33', '32', '31', '21', '29', '17', '15', '38', '30', '37', '45', '34', '40', '39', '27', '22', '26', '32', '24', '27', '45', '10', '24', '18', '23', '35', '20', '25', '35', '31', '39', '24', '26', '18', '21', '31', '37', '24', '29', '26', '32', '41', '32', '36', '39', '35', '29', '29', '29', '38', '23', '18', '29', '11', '21', '18', '17', '30', '39', '18', '32', '30', '23', '30', '28', '34', '34', '19', '8', '32', '19', '33', '32', '27', '32', '26', '37', '29', '22', '22', '15', '27', '26', '21', '31', '27', '25', '30', '30', '15', '20', '37', '32', '29', '38', '19', '34', '16', '35', '26', '17', '22', '32', '37', '36', '37', '35', '47', '46', '36', '36', '37', '29', '27', '36', '47', '25', '35', '17', '37', '33', '19', '26', '22', '25', '33', '26', '43', '44', '33', '18', '35', '22', '31', '29', '26', '30', '44', '30', '38', '23', '51', '14', '24', '29', '46', '28', '36', '35', '32', '32', '30', '31', '32', '14', '37', '25', '41', '26', '39', '52', '32', '30', '30', '34', '28', '38', '19', '36', '36', '16', '37', '26', '16', '31', '27', '36', '20', '31', '27', '32', '37', '38', '27', '33', '40', '37', '20', '24', '37', '35', '26', '22', '44', '19', '19', '29', '56', '16', '34', '36', '35', '23', '23', '34', '32', '20', '28', '21', '27', '26', '28', '25', '35', '15', '30', '31', '28', '27', '31', '28', '18', '27', '35', '27', '28', '29', '22', '20', '26', '3', '40', '22', '23', '26', '31', '11', '25', '31', '23', '19', '27', '27', '17', '15', '22', '26', '20', '43', '13', '25', '19', '33', '24', '38', '25', '31', '21', '28', '17', '27', '10', '24', '14', '21', '34', '20', '28', '18', '41', '16', '25', '15', '14', '17', '26', '14', '34', '24', '19', '24', '18', '30', '11', '21', '22', '32', '16', '9', '24', '14', '14', '32', '12', '38', '20', '27', '16', '29', '29', '27', '16', '19', '21', '14', '14', '22', '32', '18', '34', '22', '32', '36', '17', '27', '37', '23', '18', '8', '4', '19', '33', '6', '15', '15', '19', '28', '14', '22', '10', '18', '17', '17', '23', '7', '8', '21', '25']}
        a = json.dumps(dict_)
        return a

#用户选择赛季，返回该赛季球员的得分分布情况
@app.route('/score_division',methods=['POST','GET'])
def get_score_division():
    """
    得分分布图
    :return:
    """
    #根据年份返回所有的得分分布
    #year = request.args.get("year")
    #dict_ = get_year_score(year)
    if request.method == 'GET':
         yeara = request.args.get("year1")
         yearb = request.args.get("year2")
         print(yeara)
         print(yearb)
         dict_ = nba_crwa.season_all_request(yeara,yearb)
        # dict_ = {'data': [{'value': 356, 'name': '10以下'}, {'value': 88, 'name': '10-15'}, {'value': 49, 'name': '15-20'}, {'value': 22, 'name': '20-25'}, {'value': 12, 'name': '25-30'}, {'value': 1, 'name': '30以上'}]}
         a = json.dumps(dict_)
         return a

@app.route('/get_something',methods=['POST','GET'])
def get_something():
    if request.method == 'POST':
        result = request.get_data()
        result = json.loads(result)

        return result

@app.route('/index')
def index():
    return render_template('index.html')


if __name__ == '__main__':
    app.run(host='0.0.0.0', debug=True)
